{% extends "blogs/base.html" %}


{% block title %}
    Feed
{% endblock title %}




{% block body %}

<h2 align="center">Blogs</h2>

{% if feed_blogs %}
    {% for feed in feed_blogs %}
    <ul>
        <li style="border: 2px solid grey; padding: 20px; border-radius: 15px; text-align: justify;">

            {% if follow_variable == 1%}
                        <a href="{% url 'follow_button' feed.user.username %}" style="text-decoration: none;color: crimson;"><b>Follow {{ feed.user.username }}</b></a>
            {% else %}
                        <a href="{% url 'follow_button' feed.user.username %}" style="text-decoration: none;color: crimson;"><b>UnFollow {{ feed.user.username }}</b></a>
            {% endif %}
            <p><b>User: </b>{{ feed.user.username }}</p>
            <p><b>Title: </b>{{ feed.title }}</p>
            <p><b>Description: </b>{{ feed.description }}</p>
            <p><b>Category: </b>{{ feed.category }}</p>
            <p><b>{{ feed.user }} is Interested in </b>{% for interest in feed.user.user_interests.all %}{{ interest }}{% if not forloop.last %}, {% endif %}{% endfor %}</p></br>
            <p><b>Published at: </b>{{ feed.published_at }}</p>
            <br>
            <br>
        </li>
    </ul>
    {% endfor %}

{% else %}
    <p style="color: gray;">No Blogs Found!</p>
{% endif %}

{% if page_obj.has_next and page_obj.has_previous %}
<div style="display: flex; justify-content: space-between;">
<a href="?page={{ page_obj.previous_page_number }}" style="text-decoration: None;"><b>Previous Page</b></a>
<a href="?page={{ page_obj.next_page_number }}" style="text-decoration: None;"><b>Next Page</b></a>
</div>
{% elif page_obj.has_next %}
<div style="display: flex; justify-content: right;">
    <a href="?page={{ page_obj.next_page_number }}" style="text-decoration: None;"><b>Next Page</b></a>
</div>
{% elif page_obj.has_previous %}
<div style="display: flex; justify-content: left;">
    <a href="?page={{ page_obj.previous_page_number }}" style="text-decoration: None;"><b>Previous Page</b></a>
</div>
{% endif %}

{% if page_obj.paginator.num_pages != 1 %}
    <p align="center" style="color:grey">Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</p>
{% endif %}

<h3 align="center">
    <a href="{% url 'home' %}" style="text-decoration: None;color: grey;"><b>Go Back</b></a>
</h3>
<hr>

{% endblock body %}
